import{r as t}from"./react-9a8850ac.js";import"./react-is-e8e5dbb3.js";import{w as st,h as dt,F as un,K as y,a as ft,k as vt,d as mt,b as Nn,x as hn,c as pt,t as gt,n as ht,v as bt}from"./rc-util-f3dd5c12.js";import{c as He}from"./classnames-443a910e.js";import{e as Q,f as q,c as wn,b as oe,g as ke,h as Xe,n as St,d as Ee}from"./@babel-a7fb2ddb.js";import{F as wt}from"./rc-overflow-75616eab.js";import{T as Ct}from"./@rc-component-a26104dd.js";import{L as yt}from"./rc-virtual-list-f5c5f1f4.js";var kn=t.createContext(null);function It(){return t.useContext(kn)}function Et(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=t.useState(!1),a=Q(e,2),o=a[0],i=a[1],r=t.useRef(null),c=function(){window.clearTimeout(r.current)};t.useEffect(function(){return c},[]);var v=function(h,S){c(),r.current=window.setTimeout(function(){i(h),S&&S()},n)};return[o,v,c]}function Kn(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=t.useRef(null),a=t.useRef(null);t.useEffect(function(){return function(){window.clearTimeout(a.current)}},[]);function o(i){(i||e.current===null)&&(e.current=i),window.clearTimeout(a.current),a.current=window.setTimeout(function(){e.current=null},n)}return[function(){return e.current},o]}function Dt(n,e,a,o){var i=t.useRef(null);i.current={open:e,triggerOpen:a,customizedTrigger:o},t.useEffect(function(){function r(c){var v;if(!((v=i.current)!==null&&v!==void 0&&v.customizedTrigger)){var d=c.target;d.shadowRoot&&c.composed&&(d=c.composedPath()[0]||d),i.current.open&&n().filter(function(h){return h}).every(function(h){return!h.contains(d)&&h!==d})&&i.current.triggerOpen(!1)}}return window.addEventListener("mousedown",r),function(){return window.removeEventListener("mousedown",r)}},[])}var ln=function(e){var a=e.className,o=e.customizeIcon,i=e.customizeIconProps,r=e.onMouseDown,c=e.onClick,v=e.children,d;return typeof o=="function"?d=o(i):d=o,t.createElement("span",{className:a,onMouseDown:function(S){S.preventDefault(),r&&r(S)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:c,"aria-hidden":!0},d!==void 0?d:t.createElement("span",{className:He(a.split(/\s+/).map(function(h){return"".concat(h,"-icon")}))},v))},Rt=function(e,a){var o,i,r=e.prefixCls,c=e.id,v=e.inputElement,d=e.disabled,h=e.tabIndex,S=e.autoFocus,l=e.autoComplete,m=e.editable,f=e.activeDescendantId,w=e.value,F=e.maxLength,U=e.onKeyDown,M=e.onMouseDown,T=e.onChange,L=e.onPaste,Z=e.onCompositionStart,G=e.onCompositionEnd,z=e.open,ie=e.attrs,A=v||t.createElement("input",null),k=A,X=k.ref,j=k.props,ee=j.onKeyDown,J=j.onChange,K=j.onMouseDown,ae=j.onCompositionStart,R=j.onCompositionEnd,x=j.style;return st(!("maxLength"in A.props)),A=t.cloneElement(A,q(q(q({type:"search"},j),{},{id:c,ref:dt(a,X),disabled:d,tabIndex:h,autoComplete:l||"off",autoFocus:S,className:He("".concat(r,"-selection-search-input"),(o=A)===null||o===void 0||(i=o.props)===null||i===void 0?void 0:i.className),role:"combobox","aria-expanded":z,"aria-haspopup":"listbox","aria-owns":"".concat(c,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(c,"_list"),"aria-activedescendant":f},ie),{},{value:m?w:"",maxLength:F,readOnly:!m,unselectable:m?null:"on",style:q(q({},x),{},{opacity:m?null:0}),onKeyDown:function(P){U(P),ee&&ee(P)},onMouseDown:function(P){M(P),K&&K(P)},onChange:function(P){T(P),J&&J(P)},onCompositionStart:function(P){Z(P),ae&&ae(P)},onCompositionEnd:function(P){G(P),R&&R(P)},onPaste:L})),A},Cn=t.forwardRef(Rt);Cn.displayName="Input";function $n(n){return Array.isArray(n)?n:n!==void 0?[n]:[]}var Ot=typeof window<"u"&&window.document&&window.document.documentElement,Mt=Ot;function xt(n){return n!=null}function Vn(n){return["string","number"].includes(wn(n))}function Wn(n){var e=void 0;return n&&(Vn(n.title)?e=n.title.toString():Vn(n.label)&&(e=n.label.toString())),e}function Pt(n,e){Mt?t.useLayoutEffect(n,e):t.useEffect(n,e)}function Nt(n){var e;return(e=n.key)!==null&&e!==void 0?e:n.value}var Tn=function(e){e.preventDefault(),e.stopPropagation()},Vt=function(e){var a=e.id,o=e.prefixCls,i=e.values,r=e.open,c=e.searchValue,v=e.autoClearSearchValue,d=e.inputRef,h=e.placeholder,S=e.disabled,l=e.mode,m=e.showSearch,f=e.autoFocus,w=e.autoComplete,F=e.activeDescendantId,U=e.tabIndex,M=e.removeIcon,T=e.maxTagCount,L=e.maxTagTextLength,Z=e.maxTagPlaceholder,G=Z===void 0?function($){return"+ ".concat($.length," ...")}:Z,z=e.tagRender,ie=e.onToggleOpen,A=e.onRemove,k=e.onInputChange,X=e.onInputPaste,j=e.onInputKeyDown,ee=e.onInputMouseDown,J=e.onInputCompositionStart,K=e.onInputCompositionEnd,ae=t.useRef(null),R=t.useState(0),x=Q(R,2),O=x[0],P=x[1],me=t.useState(!1),fe=Q(me,2),Ce=fe[0],re=fe[1],se="".concat(o,"-selection"),ye=r||l==="multiple"&&v===!1||l==="tags"?c:"",E=l==="tags"||l==="multiple"&&v===!1||m&&(r||Ce);Pt(function(){P(ae.current.scrollWidth)},[ye]);function s($,ne,ue,he,le){return t.createElement("span",{className:He("".concat(se,"-item"),oe({},"".concat(se,"-item-disabled"),ue)),title:Wn($)},t.createElement("span",{className:"".concat(se,"-item-content")},ne),he&&t.createElement(ln,{className:"".concat(se,"-item-remove"),onMouseDown:Tn,onClick:le,customizeIcon:M},"×"))}function D($,ne,ue,he,le){var ve=function(_){Tn(_),ie(!r)};return t.createElement("span",{onMouseDown:ve},z({label:ne,value:$,disabled:ue,closable:he,onClose:le}))}function W($){var ne=$.disabled,ue=$.label,he=$.value,le=!S&&!ne,ve=ue;if(typeof L=="number"&&(typeof ue=="string"||typeof ue=="number")){var xe=String(ve);xe.length>L&&(ve="".concat(xe.slice(0,L),"..."))}var _=function(Pe){Pe&&Pe.stopPropagation(),A($)};return typeof z=="function"?D(he,ve,ne,le,_):s($,ve,ne,le,_)}function B($){var ne=typeof G=="function"?G($):G;return s({title:ne},ne,!1)}var H=t.createElement("div",{className:"".concat(se,"-search"),style:{width:O},onFocus:function(){re(!0)},onBlur:function(){re(!1)}},t.createElement(Cn,{ref:d,open:r,prefixCls:o,id:a,inputElement:null,disabled:S,autoFocus:f,autoComplete:w,editable:E,activeDescendantId:F,value:ye,onKeyDown:j,onMouseDown:ee,onChange:k,onPaste:X,onCompositionStart:J,onCompositionEnd:K,tabIndex:U,attrs:un(e,!0)}),t.createElement("span",{ref:ae,className:"".concat(se,"-search-mirror"),"aria-hidden":!0},ye," ")),Y=t.createElement(wt,{prefixCls:"".concat(se,"-overflow"),data:i,renderItem:W,renderRest:B,suffix:H,itemKey:Nt,maxCount:T});return t.createElement(t.Fragment,null,Y,!i.length&&!ye&&t.createElement("span",{className:"".concat(se,"-placeholder")},h))},Tt=function(e){var a=e.inputElement,o=e.prefixCls,i=e.id,r=e.inputRef,c=e.disabled,v=e.autoFocus,d=e.autoComplete,h=e.activeDescendantId,S=e.mode,l=e.open,m=e.values,f=e.placeholder,w=e.tabIndex,F=e.showSearch,U=e.searchValue,M=e.activeValue,T=e.maxLength,L=e.onInputKeyDown,Z=e.onInputMouseDown,G=e.onInputChange,z=e.onInputPaste,ie=e.onInputCompositionStart,A=e.onInputCompositionEnd,k=e.title,X=t.useState(!1),j=Q(X,2),ee=j[0],J=j[1],K=S==="combobox",ae=K||F,R=m[0],x=U||"";K&&M&&!ee&&(x=M),t.useEffect(function(){K&&J(!1)},[K,M]);var O=S!=="combobox"&&!l&&!F?!1:!!x,P=k===void 0?Wn(R):k,me=function(){if(R)return null;var Ce=O?{visibility:"hidden"}:void 0;return t.createElement("span",{className:"".concat(o,"-selection-placeholder"),style:Ce},f)};return t.createElement(t.Fragment,null,t.createElement("span",{className:"".concat(o,"-selection-search")},t.createElement(Cn,{ref:r,prefixCls:o,id:i,open:l,inputElement:a,disabled:c,autoFocus:v,autoComplete:d,editable:ae,activeDescendantId:h,value:x,onKeyDown:L,onMouseDown:Z,onChange:function(Ce){J(!0),G(Ce)},onPaste:z,onCompositionStart:ie,onCompositionEnd:A,tabIndex:w,attrs:un(e,!0),maxLength:K?T:void 0})),!K&&R?t.createElement("span",{className:"".concat(o,"-selection-item"),title:P,style:O?{visibility:"hidden"}:void 0},R.label):null,me())};function _t(n){return![y.ESC,y.SHIFT,y.BACKSPACE,y.TAB,y.WIN_KEY,y.ALT,y.META,y.WIN_KEY_RIGHT,y.CTRL,y.SEMICOLON,y.EQUALS,y.CAPS_LOCK,y.CONTEXT_MENU,y.F1,y.F2,y.F3,y.F4,y.F5,y.F6,y.F7,y.F8,y.F9,y.F10,y.F11,y.F12].includes(n)}var At=function(e,a){var o=t.useRef(null),i=t.useRef(!1),r=e.prefixCls,c=e.open,v=e.mode,d=e.showSearch,h=e.tokenWithEnter,S=e.autoClearSearchValue,l=e.onSearch,m=e.onSearchSubmit,f=e.onToggleOpen,w=e.onInputKeyDown,F=e.domRef;t.useImperativeHandle(a,function(){return{focus:function(){o.current.focus()},blur:function(){o.current.blur()}}});var U=Kn(0),M=Q(U,2),T=M[0],L=M[1],Z=function(x){var O=x.which;(O===y.UP||O===y.DOWN)&&x.preventDefault(),w&&w(x),O===y.ENTER&&v==="tags"&&!i.current&&!c&&(m==null||m(x.target.value)),_t(O)&&f(!0)},G=function(){L(!0)},z=t.useRef(null),ie=function(x){l(x,!0,i.current)!==!1&&f(!0)},A=function(){i.current=!0},k=function(x){i.current=!1,v!=="combobox"&&ie(x.target.value)},X=function(x){var O=x.target.value;if(h&&z.current&&/[\r\n]/.test(z.current)){var P=z.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");O=O.replace(P,z.current)}z.current=null,ie(O)},j=function(x){var O=x.clipboardData,P=O.getData("text");z.current=P},ee=function(x){var O=x.target;if(O!==o.current){var P=document.body.style.msTouchAction!==void 0;P?setTimeout(function(){o.current.focus()}):o.current.focus()}},J=function(x){var O=T();x.target!==o.current&&!O&&v!=="combobox"&&x.preventDefault(),(v!=="combobox"&&(!d||!O)||!c)&&(c&&S!==!1&&l("",!0,!1),f())},K={inputRef:o,onInputKeyDown:Z,onInputMouseDown:G,onInputChange:X,onInputPaste:j,onInputCompositionStart:A,onInputCompositionEnd:k},ae=v==="multiple"||v==="tags"?t.createElement(Vt,ke({},e,K)):t.createElement(Tt,ke({},e,K));return t.createElement("div",{ref:F,className:"".concat(r,"-selector"),onClick:ee,onMouseDown:J},ae)},Bn=t.forwardRef(At);Bn.displayName="Selector";var Ft=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Lt=function(e){var a=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:a,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:a,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:a,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:a,adjustY:1},htmlRegion:"scroll"}}},kt=function(e,a){var o=e.prefixCls;e.disabled;var i=e.visible,r=e.children,c=e.popupElement,v=e.containerWidth,d=e.animation,h=e.transitionName,S=e.dropdownStyle,l=e.dropdownClassName,m=e.direction,f=m===void 0?"ltr":m,w=e.placement,F=e.builtinPlacements,U=e.dropdownMatchSelectWidth,M=e.dropdownRender,T=e.dropdownAlign,L=e.getPopupContainer,Z=e.empty,G=e.getTriggerDOMNode,z=e.onPopupVisibleChange,ie=e.onPopupMouseEnter,A=Xe(e,Ft),k="".concat(o,"-dropdown"),X=c;M&&(X=M(c));var j=t.useMemo(function(){return F||Lt(U)},[F,U]),ee=d?"".concat(k,"-").concat(d):h,J=t.useRef(null);t.useImperativeHandle(a,function(){return{getPopupElement:function(){return J.current}}});var K=q({minWidth:v},S);return typeof U=="number"?K.width=U:U&&(K.width=v),t.createElement(Ct,ke({},A,{showAction:z?["click"]:[],hideAction:z?["click"]:[],popupPlacement:w||(f==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:j,prefixCls:k,popupTransitionName:ee,popup:t.createElement("div",{ref:J,onMouseEnter:ie},X),popupAlign:T,popupVisible:i,getPopupContainer:L,popupClassName:He(l,oe({},"".concat(k,"-empty"),Z)),popupStyle:K,getTriggerDOMNode:G,onPopupVisibleChange:z}),r)},Hn=t.forwardRef(kt);Hn.displayName="SelectTrigger";function _n(n,e){var a=n.key,o;return"value"in n&&(o=n.value),a??(o!==void 0?o:"rc-index-key-".concat(e))}function Un(n,e){var a=n||{},o=a.label,i=a.value,r=a.options;return{label:o||(e?"children":"label"),value:i||"value",options:r||"options"}}function Kt(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e.fieldNames,o=e.childrenAsData,i=[],r=Un(a,!1),c=r.label,v=r.value,d=r.options;function h(S,l){S.forEach(function(m){var f=m[c];if(l||!(d in m)){var w=m[v];i.push({key:_n(m,i.length),groupOption:l,data:m,label:f,value:w})}else{var F=f;F===void 0&&o&&(F=m.label),i.push({key:_n(m,i.length),group:!0,data:m,label:F}),h(m[d],!0)}})}return h(n,!1),i}function bn(n){var e=q({},n);return"props"in e||Object.defineProperty(e,"props",{get:function(){return ft(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}function $t(n,e){if(!e||!e.length)return null;var a=!1;function o(r,c){var v=St(c),d=v[0],h=v.slice(1);if(!d)return[r];var S=r.split(d);return a=a||S.length>1,S.reduce(function(l,m){return[].concat(Ee(l),Ee(o(m,h)))},[]).filter(function(l){return l})}var i=o(n,e);return a?i:null}var Wt=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Bt=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function Sn(n){return n==="tags"||n==="multiple"}var Ht=t.forwardRef(function(n,e){var a,o,i=n.id,r=n.prefixCls,c=n.className,v=n.showSearch,d=n.tagRender,h=n.direction,S=n.omitDomProps,l=n.displayValues,m=n.onDisplayValuesChange,f=n.emptyOptions,w=n.notFoundContent,F=w===void 0?"Not Found":w,U=n.onClear,M=n.mode,T=n.disabled,L=n.loading,Z=n.getInputElement,G=n.getRawInputElement,z=n.open,ie=n.defaultOpen,A=n.onDropdownVisibleChange,k=n.activeValue,X=n.onActiveValueChange,j=n.activeDescendantId,ee=n.searchValue,J=n.autoClearSearchValue,K=n.onSearch,ae=n.onSearchSplit,R=n.tokenSeparators,x=n.allowClear,O=n.showArrow,P=n.inputIcon,me=n.clearIcon,fe=n.OptionList,Ce=n.animation,re=n.transitionName,se=n.dropdownStyle,ye=n.dropdownClassName,E=n.dropdownMatchSelectWidth,s=n.dropdownRender,D=n.dropdownAlign,W=n.placement,B=n.builtinPlacements,H=n.getPopupContainer,Y=n.showAction,$=Y===void 0?[]:Y,ne=n.onFocus,ue=n.onBlur,he=n.onKeyUp,le=n.onKeyDown,ve=n.onMouseDown,xe=Xe(n,Wt),_=Sn(M),De=(v!==void 0?v:_)||M==="combobox",Pe=q({},xe);Bt.forEach(function(C){delete Pe[C]}),S==null||S.forEach(function(C){delete Pe[C]});var be=t.useState(!1),pe=Q(be,2),Ye=pe[0],Ne=pe[1];t.useEffect(function(){Ne(vt())},[]);var _e=t.useRef(null),Ve=t.useRef(null),Te=t.useRef(null),Se=t.useRef(null),Ke=t.useRef(null),nn=Et(),Je=Q(nn,3),$e=Je[0],Qe=Je[1],tn=Je[2];t.useImperativeHandle(e,function(){var C,g;return{focus:(C=Se.current)===null||C===void 0?void 0:C.focus,blur:(g=Se.current)===null||g===void 0?void 0:g.blur,scrollTo:function(ge){var te;return(te=Ke.current)===null||te===void 0?void 0:te.scrollTo(ge)}}});var Re=t.useMemo(function(){var C;if(M!=="combobox")return ee;var g=(C=l[0])===null||C===void 0?void 0:C.value;return typeof g=="string"||typeof g=="number"?String(g):""},[ee,M,l]),on=M==="combobox"&&typeof Z=="function"&&Z()||null,Oe=typeof G=="function"&&G(),an=mt(Ve,Oe==null||(a=Oe.props)===null||a===void 0?void 0:a.ref),ze=t.useState(!1),qe=Q(ze,2),cn=qe[0],sn=qe[1];Nn(function(){sn(!0)},[]);var dn=hn(!1,{defaultValue:ie,value:z}),rn=Q(dn,2),b=rn[0],p=rn[1],u=cn?b:!1,I=!F&&f;(T||I&&u&&M==="combobox")&&(u=!1);var N=I?!1:u,V=t.useCallback(function(C){var g=C!==void 0?C:!u;T||(p(g),u!==g&&(A==null||A(g)))},[T,u,p,A]),Ae=t.useMemo(function(){return(R||[]).some(function(C){return[`
`,`\r
`].includes(C)})},[R]),Ie=function(g,de,ge){var te=!0,we=g;X==null||X(null);var Me=ge?null:$t(g,R);return M!=="combobox"&&Me&&(we="",ae==null||ae(Me),V(!1),te=!1),K&&Re!==we&&K(we,{source:de?"typing":"effect"}),te},Ue=function(g){!g||!g.trim()||K(g,{source:"submit"})};t.useEffect(function(){!u&&!_&&M!=="combobox"&&Ie("",!1,!1)},[u]),t.useEffect(function(){b&&T&&p(!1),T&&Qe(!1)},[T]);var ce=Kn(),Fe=Q(ce,2),fn=Fe[0],vn=Fe[1],yn=function(g){var de=fn(),ge=g.which;if(ge===y.ENTER&&(M!=="combobox"&&g.preventDefault(),u||V(!0)),vn(!!Re),ge===y.BACKSPACE&&!de&&_&&!Re&&l.length){for(var te=Ee(l),we=null,Me=te.length-1;Me>=0;Me-=1){var en=te[Me];if(!en.disabled){te.splice(Me,1),we=en;break}}we&&m(te,{type:"remove",values:[we]})}for(var We=arguments.length,Ge=new Array(We>1?We-1:0),Be=1;Be<We;Be++)Ge[Be-1]=arguments[Be];if(u&&Ke.current){var Pn;(Pn=Ke.current).onKeyDown.apply(Pn,[g].concat(Ge))}le==null||le.apply(void 0,[g].concat(Ge))},Ze=function(g){for(var de=arguments.length,ge=new Array(de>1?de-1:0),te=1;te<de;te++)ge[te-1]=arguments[te];if(u&&Ke.current){var we;(we=Ke.current).onKeyUp.apply(we,[g].concat(ge))}he==null||he.apply(void 0,[g].concat(ge))},Le=function(g){var de=l.filter(function(ge){return ge!==g});m(de,{type:"remove",values:[g]})},mn=t.useRef(!1),Qn=function(){Qe(!0),T||(ne&&!mn.current&&ne.apply(void 0,arguments),$.includes("focus")&&V(!0)),mn.current=!0},qn=function(){Qe(!1,function(){mn.current=!1,V(!1)}),!T&&(Re&&(M==="tags"?K(Re,{source:"submit"}):M==="multiple"&&K("",{source:"blur"})),ue&&ue.apply(void 0,arguments))},je=[];t.useEffect(function(){return function(){je.forEach(function(C){return clearTimeout(C)}),je.splice(0,je.length)}},[]);var Zn=function(g){var de,ge=g.target,te=(de=Te.current)===null||de===void 0?void 0:de.getPopupElement();if(te&&te.contains(ge)){var we=setTimeout(function(){var Ge=je.indexOf(we);if(Ge!==-1&&je.splice(Ge,1),tn(),!Ye&&!te.contains(document.activeElement)){var Be;(Be=Se.current)===null||Be===void 0||Be.focus()}});je.push(we)}for(var Me=arguments.length,en=new Array(Me>1?Me-1:0),We=1;We<Me;We++)en[We-1]=arguments[We];ve==null||ve.apply(void 0,[g].concat(en))},et=t.useState(null),In=Q(et,2),En=In[0],nt=In[1],tt=t.useState({}),ot=Q(tt,2),at=ot[1];function rt(){at({})}Nn(function(){if(N){var C,g=Math.ceil((C=_e.current)===null||C===void 0?void 0:C.offsetWidth);En!==g&&!Number.isNaN(g)&&nt(g)}},[N]);var Dn;Oe&&(Dn=function(g){V(g)}),Dt(function(){var C;return[_e.current,(C=Te.current)===null||C===void 0?void 0:C.getPopupElement()]},N,V,!!Oe);var it=t.useMemo(function(){return q(q({},n),{},{notFoundContent:F,open:u,triggerOpen:N,id:i,showSearch:De,multiple:_,toggleOpen:V})},[n,F,N,u,i,De,_,V]),Rn=O!==void 0?O:L||!_&&M!=="combobox",On;Rn&&(On=t.createElement(ln,{className:He("".concat(r,"-arrow"),oe({},"".concat(r,"-arrow-loading"),L)),customizeIcon:P,customizeIconProps:{loading:L,searchValue:Re,open:u,focused:$e,showSearch:De}}));var Mn,ut=function(){var g;U==null||U(),(g=Se.current)===null||g===void 0||g.focus(),m([],{type:"clear",values:l}),Ie("",!1,!1)};!T&&x&&(l.length||Re)&&!(M==="combobox"&&Re==="")&&(Mn=t.createElement(ln,{className:"".concat(r,"-clear"),onMouseDown:ut,customizeIcon:me},"×"));var lt=t.createElement(fe,{ref:Ke}),ct=He(r,c,(o={},oe(o,"".concat(r,"-focused"),$e),oe(o,"".concat(r,"-multiple"),_),oe(o,"".concat(r,"-single"),!_),oe(o,"".concat(r,"-allow-clear"),x),oe(o,"".concat(r,"-show-arrow"),Rn),oe(o,"".concat(r,"-disabled"),T),oe(o,"".concat(r,"-loading"),L),oe(o,"".concat(r,"-open"),u),oe(o,"".concat(r,"-customize-input"),on),oe(o,"".concat(r,"-show-search"),De),o)),xn=t.createElement(Hn,{ref:Te,disabled:T,prefixCls:r,visible:N,popupElement:lt,containerWidth:En,animation:Ce,transitionName:re,dropdownStyle:se,dropdownClassName:ye,direction:h,dropdownMatchSelectWidth:E,dropdownRender:s,dropdownAlign:D,placement:W,builtinPlacements:B,getPopupContainer:H,empty:f,getTriggerDOMNode:function(){return Ve.current},onPopupVisibleChange:Dn,onPopupMouseEnter:rt},Oe?t.cloneElement(Oe,{ref:an}):t.createElement(Bn,ke({},n,{domRef:Ve,prefixCls:r,inputElement:on,ref:Se,id:i,showSearch:De,autoClearSearchValue:J,mode:M,activeDescendantId:j,tagRender:d,values:l,open:u,onToggleOpen:V,activeValue:k,searchValue:Re,onSearch:Ie,onSearchSubmit:Ue,onRemove:Le,tokenWithEnter:Ae}))),pn;return Oe?pn=xn:pn=t.createElement("div",ke({className:ct},Pe,{ref:_e,onMouseDown:Zn,onKeyDown:yn,onKeyUp:Ze,onFocus:Qn,onBlur:qn}),$e&&!u&&t.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(l.map(function(C){var g=C.label,de=C.value;return["number","string"].includes(wn(g))?g:de}).join(", "))),xn,On,Mn),t.createElement(kn.Provider,{value:it},pn)});const Ut=function(n,e){var a=t.useRef({values:new Map,options:new Map}),o=t.useMemo(function(){var r=a.current,c=r.values,v=r.options,d=n.map(function(l){if(l.label===void 0){var m;return q(q({},l),{},{label:(m=c.get(l.value))===null||m===void 0?void 0:m.label})}return l}),h=new Map,S=new Map;return d.forEach(function(l){h.set(l.value,l),S.set(l.value,e.get(l.value)||v.get(l.value))}),a.current.values=h,a.current.options=S,d},[n,e]),i=t.useCallback(function(r){return e.get(r)||a.current.options.get(r)},[e]);return[o,i]};function gn(n,e){return $n(n).join("").toUpperCase().includes(e)}const zt=function(n,e,a,o,i){return t.useMemo(function(){if(!a||o===!1)return n;var r=e.options,c=e.label,v=e.value,d=[],h=typeof o=="function",S=a.toUpperCase(),l=h?o:function(f,w){return i?gn(w[i],S):w[r]?gn(w[c!=="children"?c:"label"],S):gn(w[v],S)},m=h?function(f){return bn(f)}:function(f){return f};return n.forEach(function(f){if(f[r]){var w=l(a,m(f));if(w)d.push(f);else{var F=f[r].filter(function(U){return l(a,m(U))});F.length&&d.push(q(q({},f),{},oe({},r,F)))}return}l(a,m(f))&&d.push(f)}),d},[n,o,i,a,e])};var An=0,jt=pt();function Gt(){var n;return jt?(n=An,An+=1):n="TEST_OR_SSR",n}function Xt(n){var e=t.useState(),a=Q(e,2),o=a[0],i=a[1];return t.useEffect(function(){i("rc_select_".concat(Gt()))},[]),n||o}var Yt=["children","value"],Jt=["children"];function Qt(n){var e=n,a=e.key,o=e.props,i=o.children,r=o.value,c=Xe(o,Yt);return q({key:a,value:r!==void 0?r:a,children:i},c)}function zn(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return gt(n).map(function(a,o){if(!t.isValidElement(a)||!a.type)return null;var i=a,r=i.type.isSelectOptGroup,c=i.key,v=i.props,d=v.children,h=Xe(v,Jt);return e||!r?Qt(a):q(q({key:"__RC_SELECT_GRP__".concat(c===null?o:c,"__"),label:c},h),{},{options:zn(d)})}).filter(function(a){return a})}function qt(n,e,a,o,i){return t.useMemo(function(){var r=n,c=!n;c&&(r=zn(e));var v=new Map,d=new Map,h=function(m,f,w){w&&typeof w=="string"&&m.set(f[w],f)};function S(l){for(var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=0;f<l.length;f+=1){var w=l[f];!w[a.options]||m?(v.set(w[a.value],w),h(d,w,a.label),h(d,w,o),h(d,w,i)):S(w[a.options],!0)}}return S(r),{options:r,valueOptions:v,labelOptions:d}},[n,e,a,o,i])}function Fn(n){var e=t.useRef();e.current=n;var a=t.useCallback(function(){return e.current.apply(e,arguments)},[]);return a}var jn=function(){return null};jn.isSelectOptGroup=!0;var Gn=function(){return null};Gn.isSelectOption=!0;var Xn=t.createContext(null);function Zt(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var eo=["disabled","title","children","style","className"];function Ln(n){return typeof n=="string"||typeof n=="number"}var no=function(e,a){var o=It(),i=o.prefixCls,r=o.id,c=o.open,v=o.multiple,d=o.mode,h=o.searchValue,S=o.toggleOpen,l=o.notFoundContent,m=o.onPopupScroll,f=t.useContext(Xn),w=f.flattenOptions,F=f.onActiveValue,U=f.defaultActiveFirstOption,M=f.onSelect,T=f.menuItemSelectedIcon,L=f.rawValues,Z=f.fieldNames,G=f.virtual,z=f.listHeight,ie=f.listItemHeight,A="".concat(i,"-item"),k=ht(function(){return w},[c,w],function(E,s){return s[0]&&E[1]!==s[1]}),X=t.useRef(null),j=function(s){s.preventDefault()},ee=function(s){X.current&&X.current.scrollTo(typeof s=="number"?{index:s}:s)},J=function(s){for(var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,W=k.length,B=0;B<W;B+=1){var H=(s+B*D+W)%W,Y=k[H],$=Y.group,ne=Y.data;if(!$&&!ne.disabled)return H}return-1},K=t.useState(function(){return J(0)}),ae=Q(K,2),R=ae[0],x=ae[1],O=function(s){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;x(s);var W={source:D?"keyboard":"mouse"},B=k[s];if(!B){F(null,-1,W);return}F(B.value,s,W)};t.useEffect(function(){O(U!==!1?J(0):-1)},[k.length,h]);var P=t.useCallback(function(E){return L.has(E)&&d!=="combobox"},[d,Ee(L).toString(),L.size]);t.useEffect(function(){var E=setTimeout(function(){if(!v&&c&&L.size===1){var D=Array.from(L)[0],W=k.findIndex(function(B){var H=B.data;return H.value===D});W!==-1&&(O(W),ee(W))}});if(c){var s;(s=X.current)===null||s===void 0||s.scrollTo(void 0)}return function(){return clearTimeout(E)}},[c,h,w.length]);var me=function(s){s!==void 0&&M(s,{selected:!L.has(s)}),v||S(!1)};if(t.useImperativeHandle(a,function(){return{onKeyDown:function(s){var D=s.which,W=s.ctrlKey;switch(D){case y.N:case y.P:case y.UP:case y.DOWN:{var B=0;if(D===y.UP?B=-1:D===y.DOWN?B=1:Zt()&&W&&(D===y.N?B=1:D===y.P&&(B=-1)),B!==0){var H=J(R+B,B);ee(H),O(H,!0)}break}case y.ENTER:{var Y=k[R];Y&&!Y.data.disabled?me(Y.value):me(void 0),c&&s.preventDefault();break}case y.ESC:S(!1),c&&s.stopPropagation()}},onKeyUp:function(){},scrollTo:function(s){ee(s)}}}),k.length===0)return t.createElement("div",{role:"listbox",id:"".concat(r,"_list"),className:"".concat(A,"-empty"),onMouseDown:j},l);var fe=Object.keys(Z).map(function(E){return Z[E]}),Ce=function(s){return s.label};function re(E,s){var D=E.group;return{role:D?"presentation":"option",id:"".concat(r,"_list_").concat(s)}}var se=function(s){var D=k[s];if(!D)return null;var W=D.data||{},B=W.value,H=D.group,Y=un(W,!0),$=Ce(D);return D?t.createElement("div",ke({"aria-label":typeof $=="string"&&!H?$:null},Y,{key:s},re(D,s),{"aria-selected":P(B)}),B):null},ye={role:"listbox",id:"".concat(r,"_list")};return t.createElement(t.Fragment,null,G&&t.createElement("div",ke({},ye,{style:{height:0,width:0,overflow:"hidden"}}),se(R-1),se(R),se(R+1)),t.createElement(yt,{itemKey:"key",ref:X,data:k,height:z,itemHeight:ie,fullHeight:!1,onMouseDown:j,onScroll:m,virtual:G,innerProps:G?null:ye},function(E,s){var D,W=E.group,B=E.groupOption,H=E.data,Y=E.label,$=E.value,ne=H.key;if(W){var ue,he=(ue=H.title)!==null&&ue!==void 0?ue:Ln(Y)?Y.toString():void 0;return t.createElement("div",{className:He(A,"".concat(A,"-group")),title:he},Y!==void 0?Y:ne)}var le=H.disabled,ve=H.title;H.children;var xe=H.style,_=H.className,De=Xe(H,eo),Pe=bt(De,fe),be=P($),pe="".concat(A,"-option"),Ye=He(A,pe,_,(D={},oe(D,"".concat(pe,"-grouped"),B),oe(D,"".concat(pe,"-active"),R===s&&!le),oe(D,"".concat(pe,"-disabled"),le),oe(D,"".concat(pe,"-selected"),be),D)),Ne=Ce(E),_e=!T||typeof T=="function"||be,Ve=typeof Ne=="number"?Ne:Ne||$,Te=Ln(Ve)?Ve.toString():void 0;return ve!==void 0&&(Te=ve),t.createElement("div",ke({},un(Pe),G?{}:re(E,s),{"aria-selected":be,className:Ye,title:Te,onMouseMove:function(){R===s||le||O(s)},onClick:function(){le||me($)},style:xe}),t.createElement("div",{className:"".concat(pe,"-content")},Ve),t.isValidElement(T)||be,_e&&t.createElement(ln,{className:"".concat(A,"-option-state"),customizeIcon:T,customizeIconProps:{isSelected:be}},be?"✓":null))}))},Yn=t.forwardRef(no);Yn.displayName="OptionList";var to=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],oo=["inputValue"];function ao(n){return!n||wn(n)!=="object"}var ro=t.forwardRef(function(n,e){var a=n.id,o=n.mode,i=n.prefixCls,r=i===void 0?"rc-select":i,c=n.backfill,v=n.fieldNames,d=n.inputValue,h=n.searchValue,S=n.onSearch,l=n.autoClearSearchValue,m=l===void 0?!0:l,f=n.onSelect,w=n.onDeselect,F=n.dropdownMatchSelectWidth,U=F===void 0?!0:F,M=n.filterOption,T=n.filterSort,L=n.optionFilterProp,Z=n.optionLabelProp,G=n.options,z=n.children,ie=n.defaultActiveFirstOption,A=n.menuItemSelectedIcon,k=n.virtual,X=n.listHeight,j=X===void 0?200:X,ee=n.listItemHeight,J=ee===void 0?20:ee,K=n.value,ae=n.defaultValue,R=n.labelInValue,x=n.onChange,O=Xe(n,to),P=Xt(a),me=Sn(o),fe=!!(!G&&z),Ce=t.useMemo(function(){return M===void 0&&o==="combobox"?!1:M},[M,o]),re=t.useMemo(function(){return Un(v,fe)},[JSON.stringify(v),fe]),se=hn("",{value:h!==void 0?h:d,postState:function(p){return p||""}}),ye=Q(se,2),E=ye[0],s=ye[1],D=qt(G,z,re,L,Z),W=D.valueOptions,B=D.labelOptions,H=D.options,Y=t.useCallback(function(b){var p=$n(b);return p.map(function(u){var I,N,V,Ae,Ie;if(ao(u))I=u;else{var Ue;V=u.key,N=u.label,I=(Ue=u.value)!==null&&Ue!==void 0?Ue:V}var ce=W.get(I);if(ce){var Fe;N===void 0&&(N=ce==null?void 0:ce[Z||re.label]),V===void 0&&(V=(Fe=ce==null?void 0:ce.key)!==null&&Fe!==void 0?Fe:I),Ae=ce==null?void 0:ce.disabled,Ie=ce==null?void 0:ce.title}return{label:N,value:I,key:V,disabled:Ae,title:Ie}})},[re,Z,W]),$=hn(ae,{value:K}),ne=Q($,2),ue=ne[0],he=ne[1],le=t.useMemo(function(){var b,p=Y(ue);return o==="combobox"&&!((b=p[0])!==null&&b!==void 0&&b.value)?[]:p},[ue,Y,o]),ve=Ut(le,W),xe=Q(ve,2),_=xe[0],De=xe[1],Pe=t.useMemo(function(){if(!o&&_.length===1){var b=_[0];if(b.value===null&&(b.label===null||b.label===void 0))return[]}return _.map(function(p){var u;return q(q({},p),{},{label:(u=p.label)!==null&&u!==void 0?u:p.value})})},[o,_]),be=t.useMemo(function(){return new Set(_.map(function(b){return b.value}))},[_]);t.useEffect(function(){if(o==="combobox"){var b,p=(b=_[0])===null||b===void 0?void 0:b.value;s(xt(p)?String(p):"")}},[_]);var pe=Fn(function(b,p){var u,I=p??b;return u={},oe(u,re.value,b),oe(u,re.label,I),u}),Ye=t.useMemo(function(){if(o!=="tags")return H;var b=Ee(H),p=function(I){return W.has(I)};return Ee(_).sort(function(u,I){return u.value<I.value?-1:1}).forEach(function(u){var I=u.value;p(I)||b.push(pe(I,u.label))}),b},[pe,H,W,_,o]),Ne=zt(Ye,re,E,Ce,L),_e=t.useMemo(function(){return o!=="tags"||!E||Ne.some(function(b){return b[L||"value"]===E})?Ne:[pe(E)].concat(Ee(Ne))},[pe,L,o,Ne,E]),Ve=t.useMemo(function(){return T?Ee(_e).sort(function(b,p){return T(b,p)}):_e},[_e,T]),Te=t.useMemo(function(){return Kt(Ve,{fieldNames:re,childrenAsData:fe})},[Ve,re,fe]),Se=function(p){var u=Y(p);if(he(u),x&&(u.length!==_.length||u.some(function(V,Ae){var Ie;return((Ie=_[Ae])===null||Ie===void 0?void 0:Ie.value)!==(V==null?void 0:V.value)}))){var I=R?u:u.map(function(V){return V.value}),N=u.map(function(V){return bn(De(V.value))});x(me?I:I[0],me?N:N[0])}},Ke=t.useState(null),nn=Q(Ke,2),Je=nn[0],$e=nn[1],Qe=t.useState(0),tn=Q(Qe,2),Re=tn[0],on=tn[1],Oe=ie!==void 0?ie:o!=="combobox",an=t.useCallback(function(b,p){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},I=u.source,N=I===void 0?"keyboard":I;on(p),c&&o==="combobox"&&b!==null&&N==="keyboard"&&$e(String(b))},[c,o]),ze=function(p,u,I){var N=function(){var Ze,Le=De(p);return[R?{label:Le==null?void 0:Le[re.label],value:p,key:(Ze=Le==null?void 0:Le.key)!==null&&Ze!==void 0?Ze:p}:p,bn(Le)]};if(u&&f){var V=N(),Ae=Q(V,2),Ie=Ae[0],Ue=Ae[1];f(Ie,Ue)}else if(!u&&w&&I!=="clear"){var ce=N(),Fe=Q(ce,2),fn=Fe[0],vn=Fe[1];w(fn,vn)}},qe=Fn(function(b,p){var u,I=me?p.selected:!0;I?u=me?[].concat(Ee(_),[b]):[b]:u=_.filter(function(N){return N.value!==b}),Se(u),ze(b,I),o==="combobox"?$e(""):(!Sn||m)&&(s(""),$e(""))}),cn=function(p,u){Se(p);var I=u.type,N=u.values;(I==="remove"||I==="clear")&&N.forEach(function(V){ze(V.value,!1,I)})},sn=function(p,u){if(s(p),$e(null),u.source==="submit"){var I=(p||"").trim();if(I){var N=Array.from(new Set([].concat(Ee(be),[I])));Se(N),ze(I,!0),s("")}return}u.source!=="blur"&&(o==="combobox"&&Se(p),S==null||S(p))},dn=function(p){var u=p;o!=="tags"&&(u=p.map(function(N){var V=B.get(N);return V==null?void 0:V.value}).filter(function(N){return N!==void 0}));var I=Array.from(new Set([].concat(Ee(be),Ee(u))));Se(I),I.forEach(function(N){ze(N,!0)})},rn=t.useMemo(function(){var b=k!==!1&&U!==!1;return q(q({},D),{},{flattenOptions:Te,onActiveValue:an,defaultActiveFirstOption:Oe,onSelect:qe,menuItemSelectedIcon:A,rawValues:be,fieldNames:re,virtual:b,listHeight:j,listItemHeight:J,childrenAsData:fe})},[D,Te,an,Oe,qe,A,be,re,k,U,j,J,fe]);return t.createElement(Xn.Provider,{value:rn},t.createElement(Ht,ke({},O,{id:P,prefixCls:r,ref:e,omitDomProps:oo,mode:o,displayValues:Pe,onDisplayValuesChange:cn,searchValue:E,onSearch:sn,autoClearSearchValue:m,onSearchSplit:dn,dropdownMatchSelectWidth:U,OptionList:Yn,emptyOptions:!Te.length,activeValue:Je,activeDescendantId:"".concat(P,"_list_").concat(Re)})))}),Jn=ro;Jn.Option=Gn;Jn.OptGroup=jn;export{Gn as O,Jn as T,jn as a};
