var V="comm",W="rule",X="decl",y="@import",rr="@keyframes",ar="@layer",er=Math.abs,B=String.fromCharCode;function Z(r){return r.trim()}function Y(r,a,c){return r.replace(a,c)}function cr(r,a){return r.indexOf(a)}function L(r,a){return r.charCodeAt(a)|0}function S(r,a,c){return r.slice(a,c)}function p(r){return r.length}function _(r){return r.length}function N(r,a){return a.push(r),r}var K=1,O=1,$=0,o=0,n=0,T="";function G(r,a,c,i,t,d,C){return{value:r,root:a,parent:c,type:i,props:t,children:d,line:K,column:O,length:C,return:""}}function nr(){return n}function ir(){return n=o>0?L(T,--o):0,O--,n===10&&(O=1,K--),n}function h(){return n=o<$?L(T,o++):0,O++,n===10&&(O=1,K++),n}function A(){return L(T,o)}function D(){return o}function P(r,a){return S(T,r,a)}function j(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function tr(r){return K=O=1,$=p(T=r),o=0,[]}function sr(r){return T="",r}function U(r){return Z(P(o-1,q(r===91?r+2:r===40?r+1:r)))}function ur(r){for(;(n=A())&&n<33;)h();return j(r)>2||j(n)>3?"":" "}function fr(r,a){for(;--a&&h()&&!(n<48||n>102||n>57&&n<65||n>70&&n<97););return P(r,D()+(a<6&&A()==32&&h()==32))}function q(r){for(;h();)switch(n){case r:return o;case 34:case 39:r!==34&&r!==39&&q(n);break;case 40:r===41&&q(r);break;case 92:h();break}return o}function or(r,a){for(;h()&&r+n!==47+10;)if(r+n===42+42&&A()===47)break;return"/*"+P(a,o-1)+"*"+B(r===47?r:h())}function vr(r){for(;!j(A());)h();return P(r,o)}function br(r){return sr(F("",null,null,null,[""],r=tr(r),0,[0],r))}function F(r,a,c,i,t,d,C,k,x){for(var M=0,w=0,s=C,E=0,R=0,l=0,v=1,z=1,f=1,u=0,g="",I=t,m=d,b=i,e=g;z;)switch(l=u,u=h()){case 40:if(l!=108&&L(e,s-1)==58){cr(e+=Y(U(u),"&","&\f"),"&\f")!=-1&&(f=-1);break}case 34:case 39:case 91:e+=U(u);break;case 9:case 10:case 13:case 32:e+=ur(l);break;case 92:e+=fr(D()-1,7);continue;case 47:switch(A()){case 42:case 47:N(hr(or(h(),D()),a,c),x);break;default:e+="/"}break;case 123*v:k[M++]=p(e)*f;case 125*v:case 59:case 0:switch(u){case 0:case 125:z=0;case 59+w:f==-1&&(e=Y(e,/\f/g,"")),R>0&&p(e)-s&&N(R>32?J(e+";",i,c,s-1):J(Y(e," ","")+";",i,c,s-2),x);break;case 59:e+=";";default:if(N(b=H(e,a,c,M,w,t,k,g,I=[],m=[],s),d),u===123)if(w===0)F(e,a,b,b,I,d,s,k,m);else switch(E===99&&L(e,3)===110?100:E){case 100:case 108:case 109:case 115:F(r,b,b,i&&N(H(r,b,b,0,0,t,k,g,t,I=[],s),m),t,m,s,k,i?I:m);break;default:F(e,b,b,b,[""],m,0,k,m)}}M=w=R=0,v=f=1,g=e="",s=C;break;case 58:s=1+p(e),R=l;default:if(v<1){if(u==123)--v;else if(u==125&&v++==0&&ir()==125)continue}switch(e+=B(u),u*v){case 38:f=w>0?1:(e+="\f",-1);break;case 44:k[M++]=(p(e)-1)*f,f=1;break;case 64:A()===45&&(e+=U(h())),E=A(),w=s=p(g=e+=vr(D())),u++;break;case 45:l===45&&p(e)==2&&(v=0)}}return d}function H(r,a,c,i,t,d,C,k,x,M,w){for(var s=t-1,E=t===0?d:[""],R=_(E),l=0,v=0,z=0;l<i;++l)for(var f=0,u=S(r,s+1,s=er(v=C[l])),g=r;f<R;++f)(g=Z(v>0?E[f]+" "+u:Y(u,/&\f/g,E[f])))&&(x[z++]=g);return G(r,a,c,t===0?W:k,x,M,w)}function hr(r,a,c){return G(r,a,c,V,B(nr()),S(r,2,-2),0)}function J(r,a,c,i){return G(r,a,c,X,S(r,0,i),S(r,i+1,-1),i)}function Q(r,a){for(var c="",i=_(r),t=0;t<i;t++)c+=a(r[t],t,r,a)||"";return c}function kr(r,a,c,i){switch(r.type){case ar:if(r.children.length)break;case y:case X:return r.return=r.return||r.value;case V:return"";case rr:return r.return=r.value+"{"+Q(r.children,i)+"}";case W:r.value=r.props.join(",")}return p(c=Q(r.children,i))?r.return=r.value+"{"+c+"}":""}export{kr as a,br as c,Q as s};
