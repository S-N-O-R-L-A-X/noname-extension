import{e as b,d as pr,f as B,g as zr,h as Ra}from"./@babel-a7fb2ddb.js";import{r as t}from"./react-9a8850ac.js";import{r as ma}from"./react-dom-a364fca4.js";import{c as _r,b as V,g as Da,u as $a,r as aa,s as Wr,d as ha,e as Se,i as ea,f as ka,h as Na,j as Ta,k as La,l as xa,m as _a}from"./rc-util-f3dd5c12.js";import{c as Ze}from"./classnames-443a910e.js";import{R as ga}from"./rc-resize-observer-f037e113.js";import{C as ya}from"./rc-motion-e7fbfd4e.js";import"./react-is-e8e5dbb3.js";var Ca=t.createContext(null),ta=[];function za(e,a){var r=t.useState(function(){if(!_r())return null;var w=document.createElement("div");return w}),n=b(r,1),o=n[0],i=t.useRef(!1),l=t.useContext(Ca),v=t.useState(ta),d=b(v,2),m=d[0],S=d[1],f=l||(i.current?void 0:function(w){S(function(E){var T=[w].concat(pr(E));return T})});function P(){o.parentElement||document.body.appendChild(o),i.current=!0}function c(){var w;(w=o.parentElement)===null||w===void 0||w.removeChild(o),i.current=!1}return V(function(){return e?l?l(P):P():c(),c},[e]),V(function(){m.length&&(m.forEach(function(w){return w()}),S(ta))},[m]),[o,f]}function Wa(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var Ha="rc-util-locker-".concat(Date.now()),na=0;function Va(e){var a=!!e,r=t.useState(function(){return na+=1,"".concat(Ha,"_").concat(na)}),n=b(r,1),o=n[0];V(function(){if(a){var i=Da(),l=Wa();$a(`
html body {
  overflow-y: hidden;
  `.concat(l?"width: calc(100% - ".concat(i,"px);"):"",`
}`),o)}else aa(o);return function(){aa(o)}},[a,o])}var oa=!1;function Ba(e){return typeof e=="boolean"&&(oa=e),oa}var ia=function(a){return a===!1?!1:!_r()||!a?null:typeof a=="string"?document.querySelector(a):typeof a=="function"?a():a},Ma=t.forwardRef(function(e,a){var r=e.open,n=e.autoLock,o=e.getContainer;e.debug;var i=e.autoDestroy,l=i===void 0?!0:i,v=e.children,d=t.useState(r),m=b(d,2),S=m[0],f=m[1],P=S||r;t.useEffect(function(){(l||r)&&f(r)},[r,l]);var c=t.useState(function(){return ia(o)}),w=b(c,2),E=w[0],T=w[1];t.useEffect(function(){var K=ia(o);T(K??null)});var L=za(P&&!E),h=b(L,2),x=h[0],F=h[1],_=E??x;Va(n&&r&&_r()&&(_===x||_===document.body));var ee=null;if(v&&Wr(v)&&a){var A=v;ee=A.ref}var y=ha(ee,a);if(!P||!_r()||E===void 0)return null;var G=_===!1||Ba(),R=v;return a&&(R=t.cloneElement(v,{ref:y})),t.createElement(Ca.Provider,{value:F},G?R:ma.createPortal(R,_))}),ua=t.createContext(null);function la(e){return e?Array.isArray(e)?e:[e]:[]}function Fa(e,a,r,n){return t.useMemo(function(){var o=la(r??a),i=la(n??a),l=new Set(o),v=new Set(i);return e&&(l.has("hover")&&(l.delete("hover"),l.add("click")),v.has("hover")&&(v.delete("hover"),v.add("click"))),[l,v]},[e,a,r,n])}function Aa(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?e[0]===a[0]:e[0]===a[0]&&e[1]===a[1]}function Ia(e,a,r,n){for(var o=r.points,i=Object.keys(e),l=0;l<i.length;l+=1){var v,d=i[l];if(Aa((v=e[d])===null||v===void 0?void 0:v.points,o,n))return"".concat(a,"-placement-").concat(d)}return""}function va(e,a,r,n){return a||(r?{motionName:"".concat(e,"-").concat(r)}:n?{motionName:n}:null)}function dr(e){return e.ownerDocument.defaultView}function ra(e){for(var a=[],r=e==null?void 0:e.parentElement,n=["hidden","scroll","clip","auto"];r;){var o=dr(r).getComputedStyle(r),i=o.overflowX,l=o.overflowY,v=o.overflow;[i,l,v].some(function(d){return n.includes(d)})&&a.push(r),r=r.parentElement}return a}function fr(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?a:e}function cr(e){return fr(parseFloat(e),0)}function sa(e,a){var r=B({},e);return(a||[]).forEach(function(n){if(!(n instanceof HTMLBodyElement)){var o=dr(n).getComputedStyle(n),i=o.overflow,l=o.overflowClipMargin,v=o.borderTopWidth,d=o.borderBottomWidth,m=o.borderLeftWidth,S=o.borderRightWidth,f=n.getBoundingClientRect(),P=n.offsetHeight,c=n.clientHeight,w=n.offsetWidth,E=n.clientWidth,T=cr(v),L=cr(d),h=cr(m),x=cr(S),F=fr(Math.round(f.width/w*1e3)/1e3),_=fr(Math.round(f.height/P*1e3)/1e3),ee=(w-E-h-x)*F,A=(P-c-T-L)*_,y=T*_,G=L*_,R=h*F,K=x*F,re=0,I=0;if(i==="clip"){var N=cr(l);re=N*F,I=N*_}var Z=f.x+R-re,U=f.y+y-I,he=Z+f.width+2*re-R-K-ee,ve=U+f.height+2*I-y-G-A;r.left=Math.max(r.left,Z),r.top=Math.max(r.top,U),r.right=Math.min(r.right,he),r.bottom=Math.min(r.bottom,ve)}}),r}function ca(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(a),n=r.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(r)}function fa(e,a){var r=a||[],n=b(r,2),o=n[0],i=n[1];return[ca(e.width,o),ca(e.height,i)]}function da(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function Ke(e,a){var r=a[0],n=a[1],o,i;return r==="t"?i=e.y:r==="b"?i=e.y+e.height:i=e.y+e.height/2,n==="l"?o=e.x:n==="r"?o=e.x+e.width:o=e.x+e.width/2,{x:o,y:i}}function Me(e,a){var r={t:"b",b:"t",l:"r",r:"l"};return e.map(function(n,o){return o===a?r[n]||"c":n}).join("")}function Ua(e,a,r,n,o,i,l){var v=t.useState({ready:!1,offsetX:0,offsetY:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:o[n]||{}}),d=b(v,2),m=d[0],S=d[1],f=t.useRef(0),P=t.useMemo(function(){return a?ra(a):[]},[a]),c=t.useRef({}),w=function(){c.current={}};e||w();var E=Se(function(){if(a&&r&&e){let p=function(ze,le){var me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:D,lr=R.x+ze,We=R.y+le,Xr=lr+te,Or=We+W,Nr=Math.max(lr,me.left),Tr=Math.max(We,me.top),vr=Math.min(Xr,me.right),Lr=Math.min(Or,me.bottom);return Math.max(0,(vr-Nr)*(Lr-Tr))},ur=function(){Re=R.y+k,De=Re+W,ge=R.x+$,$e=ge+te};var h=a,x=h.style.left,F=h.style.top,_=h.ownerDocument,ee=dr(h),A=B(B({},o[n]),i);h.style.left="0",h.style.top="0";var y;if(Array.isArray(r))y={x:r[0],y:r[1],width:0,height:0};else{var G=r.getBoundingClientRect();y={x:G.x,y:G.y,width:G.width,height:G.height}}var R=h.getBoundingClientRect(),K=ee.getComputedStyle(h),re=K.width,I=K.height,N=_.documentElement,Z=N.clientWidth,U=N.clientHeight,he=N.scrollWidth,ve=N.scrollHeight,we=N.scrollTop,ae=N.scrollLeft,W=R.height,te=R.width,se=y.height,z=y.width,Ye={left:0,top:0,right:Z,bottom:U},be={left:-ae,top:-we,right:he-ae,bottom:ve-we},Y=A.htmlRegion,ne="visible",Ve="visibleFirst";Y!=="scroll"&&Y!==Ve&&(Y=ne);var ce=Y===Ve,mr=sa(be,P),fe=sa(Ye,P),D=Y===ne?fe:mr,Be=ce?fe:D;h.style.left=x,h.style.top=F;var Fe=fr(Math.round(te/parseFloat(re)*1e3)/1e3),Pe=fr(Math.round(W/parseFloat(I)*1e3)/1e3);if(Fe===0||Pe===0||ea(r)&&!ka(r))return;var Hr=A.offset,Vr=A.targetOffset,hr=fa(R,Hr),oe=b(hr,2),Xe=oe[0],Oe=oe[1],Br=fa(y,Vr),pe=b(Br,2),H=pe[0],Fr=pe[1];y.x-=H,y.y-=Fr;var Ar=A.points||[],gr=b(Ar,2),yr=gr[0],X=gr[1],de=da(X),q=da(yr),Ee=Ke(y,de),j=Ke(R,q),Q=B({},A),$=Ee.x-j.x+Xe,k=Ee.y-j.y+Oe,ie=p($,k),Ae=p($,k,fe),er=Ke(y,["t","l"]),Cr=Ke(R,["t","l"]),rr=Ke(y,["b","r"]),J=Ke(R,["b","r"]),Ie=A.overflow||{},Ue=Ie.adjustX,Mr=Ie.adjustY,ar=Ie.shiftX,tr=Ie.shiftY,ue=function(le){return typeof le=="boolean"?le:le>=0},Re,De,ge,$e;ur();var nr=ue(Mr),Sr=q[0]===de[0];if(nr&&q[0]==="t"&&(De>Be.bottom||c.current.bt)){var ye=k;Sr?ye-=W-se:ye=er.y-J.y-Oe;var qe=p($,ye),wr=p($,ye,fe);qe>ie||qe===ie&&(!ce||wr>=Ae)?(c.current.bt=!0,k=ye,Q.points=[Me(q,0),Me(de,0)]):c.current.bt=!1}if(nr&&q[0]==="b"&&(Re<Be.top||c.current.tb)){var ke=k;Sr?ke+=W-se:ke=rr.y-Cr.y-Oe;var or=p($,ke),br=p($,ke,fe);or>ie||or===ie&&(!ce||br>=Ae)?(c.current.tb=!0,k=ke,Q.points=[Me(q,0),Me(de,0)]):c.current.tb=!1}var Pr=ue(Ue),je=q[1]===de[1];if(Pr&&q[1]==="l"&&($e>Be.right||c.current.rl)){var Ne=$;je?Ne-=te-z:Ne=er.x-J.x-Xe;var O=p(Ne,k),Ir=p(Ne,k,fe);O>ie||O===ie&&(!ce||Ir>=Ae)?(c.current.rl=!0,$=Ne,Q.points=[Me(q,1),Me(de,1)]):c.current.rl=!1}if(Pr&&q[1]==="r"&&(ge<Be.left||c.current.lr)){var Te=$;je?Te+=te-z:Te=rr.x-Cr.x-Xe;var Er=p(Te,k),Ur=p(Te,k,fe);Er>ie||Er===ie&&(!ce||Ur>=Ae)?(c.current.lr=!0,$=Te,Q.points=[Me(q,1),Me(de,1)]):c.current.lr=!1}ur();var Le=ar===!0?0:ar;typeof Le=="number"&&(ge<D.left&&($-=ge-D.left,y.x+z<D.left+Le&&($+=y.x-D.left+z-Le)),$e>D.right&&($-=$e-D.right,y.x>D.right-Le&&($+=y.x-D.right+Le)));var xe=tr===!0?0:tr;typeof xe=="number"&&(Re<D.top&&(k-=Re-D.top,y.y+se<D.top+xe&&(k+=y.y-D.top+se-xe)),De>D.bottom&&(k-=De-D.bottom,y.y>D.bottom-xe&&(k+=y.y-D.bottom+xe)));var ir=R.x+$,Qe=ir+te,_e=R.y+k,Ce=_e+W,Rr=y.x,qr=Rr+z,Dr=y.y,jr=Dr+se,$r=Math.max(ir,Rr),Qr=Math.min(Qe,qr),Jr=($r+Qr)/2,Gr=Jr-ir,kr=Math.max(_e,Dr),Kr=Math.min(Ce,jr),Zr=(kr+Kr)/2,Yr=Zr-_e;l==null||l(a,Q),S({ready:!0,offsetX:$/Fe,offsetY:k/Pe,arrowX:Gr/Fe,arrowY:Yr/Pe,scaleX:Fe,scaleY:Pe,align:Q})}}),T=function(){f.current+=1;var x=f.current;Promise.resolve().then(function(){f.current===x&&E()})},L=function(){S(function(x){return B(B({},x),{},{ready:!1})})};return V(L,[n]),V(function(){e||L()},[e]),[m.ready,m.offsetX,m.offsetY,m.arrowX,m.arrowY,m.scaleX,m.scaleY,m.align,T]}function qa(e,a,r,n){V(function(){if(e&&a&&r){let S=function(){n()};var o=a,i=r,l=ra(o),v=ra(i),d=dr(i),m=new Set([d].concat(pr(l),pr(v)));return m.forEach(function(f){f.addEventListener("scroll",S,{passive:!0})}),d.addEventListener("resize",S,{passive:!0}),n(),function(){m.forEach(function(f){f.removeEventListener("scroll",S),d.removeEventListener("resize",S)})}}},[e,a,r])}function ja(e){var a=e.prefixCls,r=e.align,n=e.arrow,o=e.arrowPos,i=n||{},l=i.className,v=i.content,d=o.x,m=d===void 0?0:d,S=o.y,f=S===void 0?0:S,P=t.useRef();if(!r||!r.points)return null;var c={position:"absolute"};if(r.autoArrow!==!1){var w=r.points[0],E=r.points[1],T=w[0],L=w[1],h=E[0],x=E[1];T===h||!["t","b"].includes(T)?c.top=f:T==="t"?c.top=0:c.bottom=0,L===x||!["l","r"].includes(L)?c.left=m:L==="l"?c.left=0:c.right=0}return t.createElement("div",{ref:P,className:Ze("".concat(a,"-arrow"),l),style:c},v)}function Qa(e){var a=e.prefixCls,r=e.open,n=e.zIndex,o=e.mask,i=e.motion;return o?t.createElement(ya,zr({},i,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(l){var v=l.className;return t.createElement("div",{style:{zIndex:n},className:Ze("".concat(a,"-mask"),v)})}):null}var Ja=t.memo(function(e){var a=e.children;return a},function(e,a){return a.cache}),Ga=t.forwardRef(function(e,a){var r=e.popup,n=e.className,o=e.prefixCls,i=e.style,l=e.target,v=e.onVisibleChanged,d=e.open,m=e.keepDom,S=e.onClick,f=e.mask,P=e.arrow,c=e.arrowPos,w=e.align,E=e.motion,T=e.maskMotion,L=e.forceRender,h=e.getPopupContainer,x=e.autoDestroy,F=e.portal,_=e.zIndex,ee=e.onMouseEnter,A=e.onMouseLeave,y=e.ready,G=e.offsetX,R=e.offsetY,K=e.onAlign,re=e.onPrepare,I=e.stretch,N=e.targetWidth,Z=e.targetHeight,U=typeof r=="function"?r():r,he=d||m,ve=(h==null?void 0:h.length)>0,we=t.useState(!h||!ve),ae=b(we,2),W=ae[0],te=ae[1];if(V(function(){!W&&ve&&l&&te(!0)},[W,ve,l]),!W)return null;var se=y||!d?{left:G,top:R}:{left:"-1000vw",top:"-1000vh"},z={};return I&&(I.includes("height")&&Z?z.height=Z:I.includes("minHeight")&&Z&&(z.minHeight=Z),I.includes("width")&&N?z.width=N:I.includes("minWidth")&&N&&(z.minWidth=N)),d||(z.pointerEvents="none"),t.createElement(F,{open:L||he,getContainer:h&&function(){return h(l)},autoDestroy:x},t.createElement(Qa,{prefixCls:o,open:d,zIndex:_,mask:f,motion:T}),t.createElement(ga,{onResize:K,disabled:!d},function(Ye){return t.createElement(ya,zr({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:L,leavedClassName:"".concat(o,"-hidden")},E,{onAppearPrepare:re,onEnterPrepare:re,visible:d,onVisibleChanged:function(Y){var ne;E==null||(ne=E.onVisibleChanged)===null||ne===void 0||ne.call(E,Y),v(Y)}}),function(be,Y){var ne=be.className,Ve=be.style,ce=Ze(o,ne,n);return t.createElement("div",{ref:Na(Ye,a,Y),className:ce,style:B(B(B(B({"--arrow-x":"".concat(c.x||0,"px"),"--arrow-y":"".concat(c.y||0,"px")},se),z),Ve),{},{boxSizing:"border-box",zIndex:_},i),onMouseEnter:ee,onMouseLeave:A,onClick:S},P&&t.createElement(ja,{prefixCls:o,arrow:P,arrowPos:c,align:w}),t.createElement(Ja,{cache:!d},U))})}))}),Ka=t.forwardRef(function(e,a){var r=e.children,n=e.getTriggerDOMNode,o=Wr(r),i=t.useCallback(function(v){Ta(a,n?n(v):v)},[n]),l=ha(i,r.ref);return o?t.cloneElement(r,{ref:l}):r}),Za=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function Ya(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ma,a=t.forwardRef(function(r,n){var o=r.prefixCls,i=o===void 0?"rc-trigger-popup":o,l=r.children,v=r.action,d=v===void 0?"hover":v,m=r.showAction,S=r.hideAction,f=r.popupVisible,P=r.defaultPopupVisible,c=r.onPopupVisibleChange,w=r.afterPopupVisibleChange,E=r.mouseEnterDelay,T=r.mouseLeaveDelay,L=T===void 0?.1:T,h=r.focusDelay,x=r.blurDelay,F=r.mask,_=r.maskClosable,ee=_===void 0?!0:_,A=r.getPopupContainer,y=r.forceRender,G=r.autoDestroy,R=r.destroyPopupOnHide,K=r.popup,re=r.popupClassName,I=r.popupStyle,N=r.popupPlacement,Z=r.builtinPlacements,U=Z===void 0?{}:Z,he=r.popupAlign,ve=r.zIndex,we=r.stretch,ae=r.getPopupClassNameFromAlign,W=r.alignPoint,te=r.onPopupClick,se=r.onPopupAlign,z=r.arrow,Ye=r.popupMotion,be=r.maskMotion,Y=r.popupTransitionName,ne=r.popupAnimation,Ve=r.maskTransitionName,ce=r.maskAnimation,mr=r.className,fe=r.getTriggerDOMNode,D=Ra(r,Za),Be=G||R||!1,Fe=t.useState(!1),Pe=b(Fe,2),Hr=Pe[0],Vr=Pe[1];V(function(){Vr(La())},[]);var hr=t.useRef({}),oe=t.useContext(ua),Xe=t.useMemo(function(){return{registerSubPopup:function(s,C){hr.current[s]=C,oe==null||oe.registerSubPopup(s,C)}}},[oe]),Oe=xa(),Br=t.useState(null),pe=b(Br,2),H=pe[0],Fr=pe[1],Ar=Se(function(u){ea(u)&&H!==u&&Fr(u),oe==null||oe.registerSubPopup(Oe,u)}),gr=t.useState(null),yr=b(gr,2),X=yr[0],de=yr[1],q=Se(function(u){ea(u)&&X!==u&&de(u)}),Ee=t.Children.only(l),j=(Ee==null?void 0:Ee.props)||{},Q={},$=Se(function(u){var s,C,M=X;return(M==null?void 0:M.contains(u))||(M==null||(s=M.getRootNode())===null||s===void 0?void 0:s.host)===u||u===M||(H==null?void 0:H.contains(u))||(H==null||(C=H.getRootNode())===null||C===void 0?void 0:C.host)===u||u===H||Object.values(hr.current).some(function(g){return(g==null?void 0:g.contains(u))||u===g})}),k=va(i,Ye,ne,Y),ie=va(i,be,ce,Ve),Ae=t.useState(P||!1),er=b(Ae,2),Cr=er[0],rr=er[1],J=f??Cr,Ie=Se(function(u){f===void 0&&rr(u)});V(function(){rr(f||!1)},[f]);var Ue=t.useRef(J);Ue.current=J;var Mr=Se(function(u){J!==u&&(Ie(u),c==null||c(u))}),ar=t.useRef(),tr=function(){clearTimeout(ar.current)},ue=function(s){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;tr(),C===0?Mr(s):ar.current=setTimeout(function(){Mr(s)},C*1e3)};t.useEffect(function(){return tr},[]);var Re=t.useState(!1),De=b(Re,2),ge=De[0],$e=De[1],nr=t.useRef(!0);V(function(){(!nr.current||J)&&$e(!0),nr.current=!0},[J]);var Sr=t.useState(null),ye=b(Sr,2),qe=ye[0],wr=ye[1],ke=t.useState([0,0]),or=b(ke,2),br=or[0],Pr=or[1],je=function(s){Pr([s.clientX,s.clientY])},Ne=Ua(J,H,W?br:X,N,U,he,se),O=b(Ne,9),Ir=O[0],Te=O[1],Er=O[2],Ur=O[3],Le=O[4],xe=O[5],ir=O[6],Qe=O[7],_e=O[8],Ce=Se(function(){ge||_e()});qa(J,X,H,Ce),V(function(){Ce()},[br,N]),V(function(){J&&!(U!=null&&U[N])&&Ce()},[JSON.stringify(he)]);var Rr=t.useMemo(function(){var u=Ia(U,i,Qe,W);return Ze(u,ae==null?void 0:ae(Qe))},[Qe,ae,U,i,W]);t.useImperativeHandle(n,function(){return{forceAlign:Ce}});var qr=function(s){$e(!1),_e(),w==null||w(s)},Dr=function(){return new Promise(function(s){wr(function(){return s})})};V(function(){qe&&(_e(),qe(),wr(null))},[qe]);var jr=t.useState(0),$r=b(jr,2),Qr=$r[0],Jr=$r[1],Gr=t.useState(0),kr=b(Gr,2),Kr=kr[0],Zr=kr[1],Yr=function(s,C){if(Ce(),we){var M=C.getBoundingClientRect();Jr(M.width),Zr(M.height)}},p=Fa(Hr,d,m,S),ur=b(p,2),ze=ur[0],le=ur[1],me=function(s,C,M,g){Q[s]=function(sr){var Je;g==null||g(sr),ue(C,M);for(var He=arguments.length,Ge=new Array(He>1?He-1:0),xr=1;xr<He;xr++)Ge[xr-1]=arguments[xr];(Je=j[s])===null||Je===void 0||Je.call.apply(Je,[j,sr].concat(Ge))}},lr=ze.has("click"),We=le.has("click")||le.has("contextMenu");(lr||We)&&(Q.onClick=function(u){var s;Ue.current&&We?ue(!1):!Ue.current&&lr&&(je(u),ue(!0));for(var C=arguments.length,M=new Array(C>1?C-1:0),g=1;g<C;g++)M[g-1]=arguments[g];(s=j.onClick)===null||s===void 0||s.call.apply(s,[j,u].concat(M))}),t.useEffect(function(){if(We&&H&&(!F||ee)){var u=!1,s=function(He){var Ge=He.target;u=$(Ge)},C=function(He){var Ge=He.target;Ue.current&&!u&&!$(Ge)&&ue(!1)},M=dr(H),g=X==null?void 0:X.getRootNode();M.addEventListener("mousedown",s),M.addEventListener("click",C);var sr=g&&g!==X.ownerDocument;return sr&&(g.addEventListener("mousedown",s),g.addEventListener("click",C)),function(){M.removeEventListener("mousedown",s),M.removeEventListener("click",C),sr&&(g.removeEventListener("mousedown",s),g.removeEventListener("click",C))}}},[We,X,H,F,ee]);var Xr=ze.has("hover"),Or=le.has("hover"),Nr,Tr;Xr&&(me("onMouseEnter",!0,E,function(u){je(u)}),Nr=function(){ue(!0,E)},W&&(Q.onMouseMove=function(u){var s;(s=j.onMouseMove)===null||s===void 0||s.call(j,u)})),Or&&(me("onMouseLeave",!1,L),Tr=function(){ue(!1,L)}),ze.has("focus")&&me("onFocus",!0,h),le.has("focus")&&me("onBlur",!1,x),ze.has("contextMenu")&&(Q.onContextMenu=function(u){var s;je(u),ue(!0),u.preventDefault();for(var C=arguments.length,M=new Array(C>1?C-1:0),g=1;g<C;g++)M[g-1]=arguments[g];(s=j.onContextMenu)===null||s===void 0||s.call.apply(s,[j,u].concat(M))}),mr&&(Q.className=Ze(j.className,mr));var vr=B(B({},j),Q),Lr={},wa=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];wa.forEach(function(u){D[u]&&(Lr[u]=function(){for(var s,C=arguments.length,M=new Array(C),g=0;g<C;g++)M[g]=arguments[g];(s=vr[u])===null||s===void 0||s.call.apply(s,[vr].concat(M)),D[u].apply(D,M)})});var ba=t.cloneElement(Ee,B(B({},vr),Lr)),Pa={x:Ur,y:Le},Ea=z?B({},z!==!0?z:{}):null;return t.createElement(t.Fragment,null,t.createElement(ga,{disabled:!J,ref:q,onResize:Yr},t.createElement(Ka,{getTriggerDOMNode:fe},ba)),t.createElement(ua.Provider,{value:Xe},t.createElement(Ga,{portal:e,ref:Ar,prefixCls:i,popup:K,className:Ze(re,Rr),style:I,target:X,onMouseEnter:Nr,onMouseLeave:Tr,zIndex:ve,open:J,keepDom:ge,onClick:te,mask:F,motion:k,maskMotion:ie,onVisibleChanged:qr,onPrepare:Dr,forceRender:y,autoDestroy:Be,getPopupContainer:A,align:Qe,arrow:Ea,arrowPos:Pa,ready:Ir,offsetX:Te,offsetY:Er,onAlign:Ce,stretch:we,targetWidth:Qr/xe,targetHeight:Kr/ir})))});return a}const it=Ya(Ma);function ut(e){var a=t.createContext(void 0),r=function(o){var i=o.value,l=o.children,v=t.useRef(i);v.current=i;var d=t.useState(function(){return{getValue:function(){return v.current},listeners:new Set}}),m=b(d,1),S=m[0];return V(function(){ma.unstable_batchedUpdates(function(){S.listeners.forEach(function(f){f(i)})})},[i]),t.createElement(a.Provider,{value:S},l)};return{Context:a,Provider:r,defaultValue:e}}function lt(e,a){var r=Se(typeof a=="function"?a:function(f){if(a===void 0)return f;if(!Array.isArray(a))return f[a];var P={};return a.forEach(function(c){P[c]=f[c]}),P}),n=t.useContext(e==null?void 0:e.Context),o=n||{},i=o.listeners,l=o.getValue,v=t.useRef();v.current=r(n?l():e==null?void 0:e.defaultValue);var d=t.useState({}),m=b(d,2),S=m[1];return V(function(){if(!n)return;function f(P){var c=r(P);_a(v.current,c,!0)||S({})}return i.add(f),function(){i.delete(f)}},[n]),v.current}var Sa=t.createContext(0);function Xa(){return t.useContext(Sa)}function vt(e,a){var r=Wr(e),n=function(i,l){var v=r?{ref:l}:{},d=t.useRef(0),m=t.useRef(i);return(!a||a(m.current,i))&&(d.current+=1),m.current=i,t.createElement(Sa.Provider,{value:d.current},t.createElement(e,zr({},i,v)))};return r?t.forwardRef(n):n}function st(e,a){var r=Wr(e),n=function(i,l){var v=r?{ref:l}:{};return Xa(),t.createElement(e,zr({},i,v))};return r?t.memo(t.forwardRef(n),a):t.memo(n,a)}export{it as T,lt as a,ut as c,vt as m,st as r,Xa as u};
